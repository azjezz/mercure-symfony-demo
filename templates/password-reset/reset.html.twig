{% extends 'user/_layout/standalone-form.html.twig' %}

{% block title %}Password Reset - Toraido{% endblock %}

{% block form %}
    {{ form_start(form) }}

    {% if form.vars.errors|length  >= 1 %}
        <div class="mb-4">
            <div class="font-medium text-red-600">Whoops! Something went wrong.</div>

            <ul class="mt-3 list-disc list-inside text-sm text-red-600">
                {% for error in form.vars.errors %}
                    <li>{{ error.message }}</li>
                {% endfor %}
            </ul>
        </div>
    {% endif %}

    <div class="mb-4">
        <label class="block font-medium text-sm text-gray-700 required" for="email">Email</label>
        <input type="email" id="email" name="email" required="required"
               class="form-input bg-gray-200 rounded-md shadow-sm mt-1 block w-full" autofocus="autofocus"
               value="{{ user.email }}" disabled>
    </div>

    <div class="mb-4">
        {{ form_label(form.newPassword.first, null, {
            'label_attr': {
                'class': 'block font-medium text-sm text-gray-700'
            }
        }) }}
        {{ form_widget(form.newPassword.first, {
            'attr': {
                'class': 'form-input rounded-md shadow-sm mt-1 block w-full',
                'autofocus': 'autofocus',
            }
        }) }}
        <div class="mt-2">
            {% for error in form.newPassword.first.vars.errors %}
                <p class="text-sm text-red-600">{{ error.message }}</p>
            {% endfor %}
        </div>
    </div>

    <div>
        {{ form_label(form.newPassword.second, null, {
            'label_attr': {
                'class': 'block font-medium text-sm text-gray-700'
            }
        }) }}
        {{ form_widget(form.newPassword.second, {
            'attr': {
                'class': 'form-input rounded-md shadow-sm mt-1 block w-full',
            }
        }) }}
        <div class="mt-2">
            {% for error in form.newPassword.second.vars.errors %}
                <p class="text-sm text-red-600">{{ error.message }}</p>
            {% endfor %}
        </div>
    </div>

    <div class="flex items-center justify-end mt-4">
        <button type="submit"
                class="inline-flex items-center px-4 py-2 bg-gray-800 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-gray-700 active:bg-gray-900 focus:outline-none focus:border-gray-900 focus:shadow-outline-gray disabled:opacity-25 transition ease-in-out duration-150 ml-4">
            Reset Password
        </button>
    </div>
    {{ form_end(form) }}
{% endblock %}
